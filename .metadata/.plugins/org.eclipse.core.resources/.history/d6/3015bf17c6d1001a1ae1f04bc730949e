import java.util.Scanner;


public class ProducerConsumerPatrons {
	
		public static void main(String[] args) {
			
			Scanner scnr = new Scanner(System.in);
			Boolean flag = true;
			
			System.out.println("Enter only a postive integer for each prompt as it appears below");
			
			while (flag) {
				try {	
			
					System.out.print("Enter the desired # of producer threads: ");
					String numProducers = scnr.nextLine();
					System.out.print("Enter the desired # of consumer threads: ");
					String numConsumers = scnr.nextLine();
					System.out.print("Enter the desired sleep time: ");
					String sleepTime = scnr.nextLine();
					if ((Integer.parseInt(numProducers) > 0) && (Integer.parseInt(numConsumers) > 0)
							&& (Integer.parseInt(sleepTime) > 0)) {
					
						flag = false;
						System.out.println();
						
					}
					
					else {
						System.out.println("Enter only a postive integer for each prompt");
					}
					
				}
				catch (Exception e) {
					System.out.println("Enter only a postive integer for each prompt");
				}
				
				finally {
					System.out.println();
				}
			}
			
			
			
			
			
			
			

			ProducerConsumer itemBank = new ProducerConsumer();

			producer itemProducer = new producer(itemBank);
			
			producer itemProducer2 = new producer(itemBank);
			producer itemProducer3 = new producer(itemBank);
			producer itemProducer4 = new producer(itemBank);
			producer itemProducer5 = new producer(itemBank);

			consumer itemConsumer = new consumer(itemBank);
			

			
			
			
			
			
			itemProducer.start();
			itemProducer2.start();
			itemProducer3.start();
			itemProducer4.start();
			itemProducer5.start();
			itemConsumer.start();
			
			
			try {
				itemProducer.join();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}try {
				itemProducer2.join();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}try {
				itemProducer3.join();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			try {
				itemProducer4.join();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}try {
				itemProducer5.join();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}try {
				itemConsumer.join();
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			

			
			
			
			
			
			
			

			scnr.close();
		}
}
